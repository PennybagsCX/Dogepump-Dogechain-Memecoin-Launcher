# ==============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ==============================================================================
# IMPORTANT: Copy this file to .env.production and fill in all values
# Generate secure secrets using: openssl rand -base64 64

# ------------------------------------------------------------------------------
# SERVER CONFIGURATION
# ------------------------------------------------------------------------------
NODE_ENV=production
PORT=3001
HOST=0.0.0.0
LOG_LEVEL=warn

# ------------------------------------------------------------------------------
# JWT CONFIGURATION (CRITICAL - MUST CHANGE!)
# ------------------------------------------------------------------------------
# Generate secure secrets: openssl rand -base64 64
JWT_SECRET=REPLACE_WITH_64_CHAR_RANDOM_SECRET
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d
JWT_REFRESH_SECRET=REPLACE_WITH_DIFFERENT_64_CHAR_RANDOM_SECRET

# ------------------------------------------------------------------------------
# CORS CONFIGURATION
# ------------------------------------------------------------------------------
# Production frontend URL
CORS_ORIGIN=https://dogepump.com

# ------------------------------------------------------------------------------
# DATABASE CONFIGURATION
# ------------------------------------------------------------------------------
# PostgreSQL connection string - REQUIRED in production
DATABASE_URL=postgresql://user:password@host:5432/dogepump_prod

# ------------------------------------------------------------------------------
# REDIS CONFIGURATION (REQUIRED FOR PRODUCTION)
# ------------------------------------------------------------------------------
# Redis is REQUIRED for production deployment. The application will use an
# in-memory fallback if Redis is not configured, but this is NOT suitable for
# production because:
# - Session data will be lost on server restart
# - Multiple server instances cannot share session data
# - CSRF tokens will not work correctly
#
# Install Redis:
# - macOS: brew install redis && brew services start redis
# - Ubuntu: apt-get install redis-server && systemctl start redis
# - Docker: docker run -d -p 6379:6379 redis:alpine
#
# Connection string format: redis://[password@]host:port/db
REDIS_URL=redis://localhost:6379
#
# For production with authentication:
# REDIS_URL=redis://:YOUR_PASSWORD@localhost:6379/0
#
# For Redis with TLS (e.g., AWS ElastiCache):
# REDIS_URL=rediss://:YOUR_PASSWORD@your-cache.xxxxxx.cache.amazonaws.com:6379/0
#
# Verify Redis connection:
# - After starting server, check logs for "Redis connected" message
# - Or test manually: redis-cli -h localhost -p 6379 ping (should return PONG)

# ------------------------------------------------------------------------------
# SECURITY CONFIGURATION
# ------------------------------------------------------------------------------
SECURITY_HEADERS_ENABLED=true
CSP_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=50

# Auth Rate Limiting
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_ATTEMPTS=3

# ------------------------------------------------------------------------------
# SENTRY ERROR TRACKING
# ------------------------------------------------------------------------------
# Get your DSN from https://sentry.io
SENTRY_DSN=your-production-sentry-dsn-here
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# ------------------------------------------------------------------------------
# BLOCKCHAIN CONFIGURATION
# ------------------------------------------------------------------------------
# Dogechain RPC URLs (Mainnet only - no testnet!)
DOGCHAIN_RPC_URL=https://rpc.dogechain.dog
DOGCHAIN_FALLBACK_RPC_URL=https://rpc.ankr.com/dogechain
DOGCHAIN_EXPLORER_URL=https://explorer.dogechain.dog

# Chain ID
DOGCHAIN_CHAIN_ID=2000

# Token Addresses (Mainnet)
DC_TOKEN_ADDRESS=0x7B4328c127B85369D9f82ca0503B000D09CF9180
WDOGE_TOKEN_ADDRESS=0xB7ddC6414bf4F5515b52D8BdD69973Ae205ff101

# ------------------------------------------------------------------------------
# DEX CONTRACT ADDRESSES
# ------------------------------------------------------------------------------
# IMPORTANT: Replace with deployed contract addresses
VITE_DEX_FACTORY_ADDRESS=0x0000000000000000000000000000000000000000
VITE_DEX_ROUTER_ADDRESS=0x0000000000000000000000000000000000000000

# ------------------------------------------------------------------------------
# DATA ENCRYPTION (RECOMMENDED)
# ------------------------------------------------------------------------------
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=REPLACE_WITH_64_HEX_CHAR_KEY

# ------------------------------------------------------------------------------
# BACKUP CONFIGURATION
# ------------------------------------------------------------------------------
# Backup directory
BACKUP_DIR=/backups

# Backup retention (days)
BACKUP_RETENTION_DAYS=7

# S3 or compatible storage for offsite backups (optional)
# BACKUP_S3_BUCKET=s3://backups/dogepump

# ------------------------------------------------------------------------------
# MONITORING (OPTIONAL)
# ------------------------------------------------------------------------------
# Prometheus metrics endpoint (default: /metrics)
# PROMETHEUS_ENABLED=true
